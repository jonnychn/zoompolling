<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoom Polling Data Visualizer</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font for better readability -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Zoom Polling Data Visualizer</h1>

        <!-- Privacy Message Section (Updated) -->
        <div class="bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-md mb-6" role="alert">
            <div class="flex items-start">
                <div class="py-1">
                    <svg class="h-5 w-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <div>
                    <p class="font-semibold text-lg mb-1">Privacy</p>
                    <p class="text-sm">
                        Rest assured, your data is processed and saved locally within your browser.
                        It is never sent to any server.
                        Think of it like creating an Excel file directly on your computer â€“ your information stays private and secure on your device.
                    </p>
                </div>
            </div>
        </div>

        <!-- Use Cases Section (Updated) -->
        <div class="bg-gray-50 border border-gray-200 text-gray-700 px-4 py-3 rounded-md mb-6">
            <h2 class="font-semibold text-xl mb-2">Use Cases</h2>
            <p class="text-sm">
                This personal, client-side Zoom Polling Data Visualizer analyzes your Zoom polling results quickly and efficiently. It processes data directly in your browser, ensuring your privacy by never sending sensitive data to an external server. This tool saves time by providing instant insights for informed decisions.
            </p>
        </div>

        <div class="mb-4">
            <label for="fileInput" class="block text-gray-700 text-sm font-medium mb-2">Upload your Zoom Polling CSV file:</label>
            <input type="file" id="fileInput" class="block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-full file:border-0
                file:text-sm file:font-semibold
                file:bg-blue-50 file:text-blue-700
                hover:file:bg-blue-100 cursor-pointer"
                accept=".csv">
        </div>

        <div id="messageBox" class="hidden bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mt-4" role="alert">
            <span id="messageText" class="block sm:inline"></span>
            <span class="absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer" onclick="document.getElementById('messageBox').classList.add('hidden')">
                <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
            </span>
        </div>

        <button id="processButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
            Process Zoom Polling Data
        </button>

        <div id="output" class="mt-6 p-4 bg-gray-50 rounded-md border border-gray-200 text-gray-700 text-sm overflow-auto max-h-64 hidden">
            <h2 class="font-semibold mb-2">Processed Data (First 500 chars):</h2>
            <pre id="fileContent" class="whitespace-pre-wrap break-words"></pre>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fileInput = document.getElementById('fileInput');
            const processButton = document.getElementById('processButton');
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageText');
            const outputDiv = document.getElementById('output');
            const fileContentPre = document.getElementById('fileContent');

            processButton.addEventListener('click', () => {
                const file = fileInput.files[0];
                if (!file) {
                    showMessage('Please select a Zoom Polling CSV file first!', 'red');
                    return;
                }

                // Ensure only CSV files are accepted
                if (!file.name.endsWith('.csv')) {
                    showMessage('Please upload a CSV file.', 'red');
                    return;
                }

                const reader = new FileReader();

                reader.onload = (e) => {
                    const content = e.target.result;
                    // In a real application, you would parse and process the CSV data here
                    // to visualize it. For this example, we just display a snippet.
                    fileContentPre.textContent = content.substring(0, 500) + (content.length > 500 ? '...' : '');
                    outputDiv.classList.remove('hidden');
                    showMessage('Zoom Polling data processed successfully!', 'green');
                };

                reader.onerror = () => {
                    showMessage('Error reading file!', 'red');
                };

                reader.readAsText(file); // Read the file as text
            });

            function showMessage(message, type) {
                messageText.textContent = message;
                messageBox.classList.remove('hidden', 'bg-green-100', 'border-green-400', 'text-green-700', 'bg-red-100', 'border-red-400', 'text-red-700');
                if (type === 'green') {
                    messageBox.classList.add('bg-green-100', 'border-green-400', 'text-green-700');
                } else if (type === 'red') {
                    messageBox.classList.add('bg-red-100', 'border-red-400', 'text-red-700');
                }
            }
        });
    </script>
</body>
</html>
